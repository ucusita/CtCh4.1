 @since 2.9.0
 *
 * @return array
 */
function get_plugin_updates() {
	$all_plugins = get_plugins();
	$upgrade_plugins = array();
	$current = get_site_transient( 'update_plugins' );
	foreach ( (array)$all_plugins as $plugin_file => $plugin_data) {
		if ( isset( $current->response[ $plugin_file ] ) ) {
			$upgrade_plugins[ $plugin_file ] = (object) $plugin_data;
			$upgrade_plugins[ $plugin_file ]->update = $current->response[ $plugin_file ];
		}
	}

	return $upgrade_plugins;
}

/**
 * @since 2.9.0
 */
function wp_plugin_update_rows() {
	if ( !current_user_can('update_plugins' ) )
		return;

	$plugins = get_site_transient( 'update_plugins' );
	if ( isset($plugins->response) && is_array($plugins->response) ) {
		$plugins = array_keys( $plugins->response );
		foreach ( $plugins as $plugin_file ) {
			add_action( "after_plugin_row_$plugin_file", 'wp_plugin_update_row', 10, 2 );
		}
	}
}

/**
 *
 * @param string $file
 * @param array  $plugin_data
 * @return false|void
 */
function wp_plugin_update_row( $file, $plugin_data ) {
	$current = get_site_transient( 'update_plugins' );
	if ( !isset( $current->response[ $file ] ) )
		return false;

	$r = $current->response[ $file ];

	$plugins_allowedtags = array('a' => array('href' => array(),'title' => array()),'abbr' => array('title' => array()),'acronym' => array('title' => array()),'code' => array(),'em' => array(),'strong' => array());
	$plugin_name = wp_kses( $plugin_data['Name'], $plugins_allowedtags );

	$details_url = self_admin_url('plugin-install.php?tab=plugin-information&plugin=' . $r->slug . '&section=changelog&TB_iframe=true&width=600&height=800');

	$wp_list_table = _get_list_table('WP_Plugins_List_Table');

	if ( is_network_admin() || !is_multisite() ) {
		if ( is_network_admin() ) {
			$active_class = is_plugin_active_for_network( $file ) ? ' active': '';
		} else {
			$active_class = is_plugin_active( $file ) ? ' active' : '';
		}

		echo '<tr class="plugin-update-tr' . $active_class . '" id="' . esc_attr( $r->slug . '-update' ) . '" data-slug="' . esc_attr( $r->slug ) . '" data-plugin="' . esc_attr( $file ) . '"><td colspan="' . esc_attr( $wp_list_table->get_column_count() ) . '" class="plugin-update colspanchange"><div class="update-message">';

		if ( ! current_user_can( 'update_plugins' ) ) {
			printf( __('There is a new version of %1$s available. <a href="%2$s" class="thickbox" title="%3$s">View version %4$s details</a>.'), $plugin_name, esc_url($details_url), esc_attr($plugin_name), $r->new_version );
		} elseif ( empty($r->package) ) {
			printf( __('There is a new version of %1$s available. <a href="%2$s" class="thickbox" title="%3$s">View version %4$s details</a>. <em>Automatic update is unavailable for this plugin.</em>'), $plugin_name, esc_url($details_url), esc_attr($plugin_name), $r->new_version );
		} else {
			printf( __( 'There is a new version of %1$s available. <a href="%2$s" class="thickbox" title="%3$s">View version %4$s details</a> or <a href="%5$s" class="update-link">update now</a>.' ), $plugin_name, esc_url( $details_url ), esc_attr( $plugin_name ), $r->new_version, wp_nonce_url( self_admin_url( 'update.php?action=upgrade-plugin&plugin=' ) . $file, 'upgrade-plugin_' . $file ) );
		}
		/**
		 * Fires at the end of the update message container in each
		 * row of the plugins list table.
		 *
		 * The dynamic portion of the hook name, `$file`, refers to the path
		 * of the plugin's primary file relative to the plugins directory.
		 *
		 * @since 2.8.0
		 *
		 * @param array $plugin_data {
		 *     An array of plugin metadata.
		 *
		 *     @type string $name         The human-readable name of the plugin.
		 *     @type string $plugin_uri   Plugin URI.
		 *     @type string $version      Plugin version.
		 *     @type string $description  Plugin description.
		 *     @type string $author       Plugin author.
		 *     @type string $author_uri   Plugin author URI.
		 *     @type string $text_domain  Plugin text domain.
		 *     @type string $domain_path  Relative path to the plugin's .mo file(s).
		 *     @type bool   $network      Whether the plugin can only be activated network wide.
		 *     @type string $title        The human-readable title of the plugin.
		 *     @type string $author_name  Plugin author's name.
		 *     @type bool   $update       Whether there's an available update. Default null.
	 	 * }
	 	 * @param array $r {
	 	 *     An array of metadata about the available plugin update.
	 	 *
	 	 *     @type int    $id           Plugin ID.
	 	 *     @type string $slug         Plugin slug.
	 	 *     @type string $new_version  New plugin version.
	 	 *     @type string $url          Plugin URL.
	 	 *     @type string $package      Plugin update package URL.
	 	 * }
		 */
		do_action( "in_plugin_update_message-{$file}", $plugin_data, $r );

		echo '</div></td></tr>';
	}
}

/**
 *
 * @return array
 */
function get_theme_updates() {
	$current = get_site_transient('update_themes');

	if ( ! isset( $current->response ) )
		return array();

	$update_themes = array();
	foreach ( $current->response as $stylesheet => $data ) {
		$update_themes[ $stylesheet ] = wp_get_theme( $stylesheet );
		$update_themes[ $stylesheet ]->update = $data;
	}

	return $update_themes;
}

/**
 * @since 3.1.0
 */
function wp_theme_update_rows() {
	if ( !current_user_can('update_themes' ) )
		return;

	$themes = get_site_transient( 'update_themes' );
	if ( isset($themes->response) && is_array($themes->response) ) {
		$themes = array_keys( $themes->response );

		foreach ( $themes as $theme ) {
			add_action( "after_theme_row_$theme", 'wp_theme_update_row', 10, 2 );
		}
	}
}

/**
 *
 * @param string   $theme_key
 * @param WP_Theme $theme
 * @return false|void
 */
function wp_theme_update_row( $theme_key, $theme ) {
	$current = get_site_transient( 'update_themes' );
	if ( !isset( $current->response[ $theme_key ] ) )
		return false;
	$r = $current->response[ $theme_key ];

	$details_url = add_query_arg( array( 'TB_iframe' => 'true', 'width' => 1024, 'height' => 800 ), $current->response[ $theme_key ]['url'] );

	$wp_list_table = _get_list_table('WP_MS_Themes_List_Table');

	echo '<tr class="plugin-update-tr"><td colspan="' . $wp_list_table->get_column_count() . '" class="plugin-update colspanchange"><div class="update-message">';
	if ( ! current_user_can('update_themes') ) {
		printf( __('There is a new version of %1$s available. <a href="%2$s" class="thickbox" title="%3$s">View version %4$s details</a>.'), $theme['Name'], esc_url($details_url), esc_attr($theme['Name']), $r->new_version );
	} elseif ( empty( $r['package'] ) ) {
		printf( __('There is a new version of %1$s available. <a href="%2$s" class="thickbox" title="%3$s">View version %4$s details</a>. <em>Automatic update is unavailable for this theme.</em>'), $theme['Name'], esc_url($details_url), esc_attr($theme['Name']), $r['new_version'] );
	} else {
		printf( __('There is a new version of %1$s available. <a href="%2$s" class="thickbox" title="%3$s">View version %4$s details</a> or <a href="%5$s">update now</a>.'), $theme['Name'], esc_url($details_url), esc_attr($theme['Name']), $r['new_version'], wp_nonce_url( self_admin_url('update.php?action=upgrade-theme&theme=') . $theme_key, 'upgrade-theme_' . $theme_key) );
	}
	/**
	 * Fires at the end of the update message container in each
	 * row of the themes list table.
	 *
	 * The dynamic portion of the hook name, `$theme_key`, refers to
	 * the theme slug as found in the WordPress.org themes repository.
	 *
	 * @since 3.1.0
	 *
	 * @param WP_Theme $theme The WP_Theme object.
	 * @param array    $r {
	 *     An array of metadata about the available theme update.
	 *
	 *     @type string $new_version New theme version.
	 *     @type string $url         Theme URL.
	 *     @type string $package     Theme update package URL.
	 * }
	 */
	do_action( "in_theme_update_message-{$theme_key}", $theme, $r );

	echo '</div></td></tr>';
}

/**
 *
 * @global int $upgrading
 * @return false|void
 */
function maintenance_nag() {
	include( ABSPATH . WPINC . '/version.php' ); // include an unmodified $wp_version
	global $upgrading;
	$nag = isset( $upgrading );
	if ( ! $nag ) {
		$failed = get_site_option( 'auto_core_update_failed' );
		/*
		 * If an update failed critically, we may have copied over version.php but not other files.
		 * In that case, if the install claims we're running the version we attempted, nag.
		 * This is serious enough to err on the side of nagging.
		 *
		 * If we simply failed to update before we tried to copy any files, then assume things are
		 * OK if they are now running the latest.
		 *
		 * This flag is cleared whenever a successful update occurs using Core_Upgrader.
		 */
		$comparison = ! empty( $failed['critical'] ) ? '>=' : '>';
		if ( version_compare( $failed['attempted'], $wp_version, $comparison ) )
			$nag = true;
	}

	if ( ! $nag )
		return false;

	if ( current_user_can('update_core') )
		$msg = sprintf( __('An automated WordPress update has failed to complete - <a href="%s">please attempt the update again now</a>.'), 'update-core.php' );
	else
		$msg = __('An automated WordPress update has failed to complete! Please notify the site administrator.');

	echo "<div class='update-nag'>$msg</div>";
}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            xæù‘<¯‡¶KÚ}NşløSïUÖu‹}êĞÒ6ÓWËõsRƒĞ ÙÆp]ª;ı#pÌb ÒÇ¹ı‚T|¨7I?¹û¢×*X»cb/<õêi4ÒÛ& +²Q·[J÷r°ãª%Ö×Î´æ RÀ½Õ1Ğ®ŸØiö48Ô± `(är7$’Jñ3Ò¯Æ„¼Wç„ò‡5úz:÷ã¡íøkCU`¡‰âëo ‹’‚H(zP‚RV3µ—®œÔŠV¦õ#$SÊ")µa_>ñÌÃ%„a
QÚT0$£<¹úÆÄ®Ü{6ÎíôV|ÆÜwîl¤Å„nh9ÀÿS×Iç&8×y	•;uF¸Ø·–ÊÚÅ}ZaíkŠÅµ¯Oõ.Ğ¹T0
¼­sûë¬Fäq»Ò »OŒò–;‹a¢náĞâæÖ=â¤¦‰sC!(‡dÓÓ_+ 8ù¡ÃækIî5ÄÉÜ¡ˆ’Ü+—.å‘Ãµ-5{y,×o?5• ŠŒ"ß1ìR\U¤;òÈUc!9’9dr[j˜ ’q«éUHÔûS~§á°*yŸÿû´`–€KMUë{jgFÚÍ=&[YW¬=í© +¥†%vVrp§5lªùÔ%±œç?ìšf/˜º¡8r†ƒBg4P‚9B§h<`êEApCäëÄRáJ|/ØMÅµ4éJ /åÅZÚæ§R¹B
ç–q>£I½ÃaŒæÇvYØa7¾êö	í#”ó8±¤½V½çÖ#|Òµ„óÂDÓr„ ®fcóşW×Í(¼0Œ &)ú~F©_ç’‡h”¢¯^âÓÒ"TÃÁX4xÌÁk¬Õs´Ÿš|H±‰RU´ÂæÑ¦iğ»”nÍ]
¨ä¿¿ù»±Û­ßy¿ıÿ<}yæEP€©[Øç<óCGôÿ­=½ H8ì–I-²İ,`@	pÎv<«%}¿^j£l7P§Ë±ºæg©¬¼p8ÖÕ¨Çm#ù&¨jR²<W™Èc‚l“ÏH¹N]`f~ÚÌu"ÏÒ¨è†¿v¹J¸#	$jÃtf–%kÇ5·ÙÌfW%F¶>‡é£iu-0Ë&[£*«3¤e{Û2_ğûN“u¬<gîmyJíÆWí[åuºUU*ª¦”]şf¬ætÏäµÚ¿;rä&'6ÕA÷OZ2(AI˜‚å[:Äg™’zL GzBÁŞªé&‘Ìñ{ŞyW¹ZÖm¹<‰YÁÚ;kJÕLL7öÅÄ:ş:®™FçÅÌ©´ YázÍ Ç3ôµB#(ÿí¸ÜnY¶fkÄ·ÙchîÆ¦_NËc”ÓÙÿû´`–€KÖk{jo‡êÙa+]’ı%UL½í¡›ke„¡nR¨º£
8s%SÒ¥TjµlÊ³ı¹ÔCU)t§1º\C9 ›?ÜgÔxÏ"*¥wwc`âÿµÁ\éL¦;Ôd îÉÉZ«¦'vğÙ›gCß" ÆÔ_½âM²ÀİÀ®sJËVùĞˆ³Ş×­~õ¬Ö.8<ˆ`iÖ­.ß"­õT²…Ê×UÌíç'(MªZj:ˆäÌxÀ ºTØCÇ4»©.$N2î–èèbƒõqqâƒeŠ+IÃUÕVšÉ‘bÇ©B7jµõËs7Œ¡Ä(ÂÙëÔ¡‰STûÚ–H@L¹m’İl–ßiTM
Š8e]‡4áKç§­ÓCqI|zwáÙšLÛ+×+q•VaŸZ«nFìÀ’É6l†³ÀÍØ`JPÊİVs2Dšá* ;VŞV\Ùcª`BzŞO…yÎì$™L¸wªŞ¢C¼X«…ÊA^©wFÎéïš3ÛF¬]ÍfêC†ÄÆÆâ…¶ëT…>$×Ş·í˜8~!6¼VU.KInY%–VÛ¾! ô¡-æ©Ù¦VÖ
D3P ¨©€@LÎĞŠ6lèœv|Ø©jµGË™Hˆ¨\âÕÓCS”*U^Åw!µ§2<ÏÅMÓY31ûô÷C#¸("tM‹9i¾l4,Ó–Õõï(“fIt–Ûe¶ça)ªNÁ×¤½ŸËÆ§O"£ŠÊÒ96yÂfBÏØÙÿû´`›€÷IÖk8{hrÆJ½=,[5W¬½ë©Üª5†%u^VIÁ—'P„yî«<Ì=EÑ9?RI2æjÅ½Û÷;CmnVUZÛI”*IúU]XŒºATJN¡5X­V·DQSVbÓõk+Çkµ~üUº²µE¥bøñ/,Ô„ÙÉ¶,çğ/Xâ4õœ·Ñ™àŸ¥l{:şı~ˆ¹i¶’rß ÆXËÕ!^pÓui%BÃED¨×ü Î6ˆBPòN9;y•ÿ‡Î±uPªÊ’ 82#¬Åö¢¤äW$E¦dògì—ÄKË¸Ç×«÷öºş5Y·{÷-ÿ#LŠ|*z¾ÍÍàoŞşïúíÿë¬À Ó‰¤Ûm¹i-E&õÁé;óZ6ı¼øgC•J$y&B”’.Îµ²n>±VSôˆ V½€“ùçG€ è"J5ŒNÑ*isL²~dx-Vbx²ù!:UæÂ  ~JØBë‰Øû7ô´¬F•EÓmYÚGn¬n1õäÈ\éÃ
¬ßZµä8\ŸßNº(å³9ZÛÛ»hc‘¶Üm¹šˆKd!:„$w–µƒ·Í>ñŒ™±¤†—Iâ3Øëå•’Ûj5ó˜,ƒ‡N Š½[‚Ó¹#w8O52-m¯—íòı3k¾Æ?w(¹îÆ (6'3+òıï_ÿıı–êÔ½úé%¹qÉ$’k‚„ È¤¡fB¤zíÒ¨éhIVZ]ÿû´`” «DÓëbêrG
=†[RÑ'U§½í©Öjô÷±l913¢Î„5[¢+KçÜ8[†¢X|¹rG±1"X’O§±H£UÈ«j«º»sfp†‡ªÖ¦¶(TÌ7'ê¸4–ìSÀ¤‘µ­E{´65[qUç›êô‹­2Å£É>mâÚQoí½ü}x~?N»éÛ­KÌ}ı"œ±É±É/m!¤–”ÖB–å±áGÏ3:¹
U¡Œ¢¡?•Î¢ûÑtözÕùNGÃ ©±YM0ñ{Çw¯.k¿O­‚bÊİ—Ò>Úl¦ŞÑÛ?§ú×‡á]Zn~ë8àŒDÓ¨rĞ+¯!+r6)kÖË[H	Ée¶Ûm¶ïH h‰LÃ}\¬dÔÔË@ùÊàˆ N<5†œ‰¥â©149E%áé¢²ÃEÇÅvV‹B}&¸hÊA¢vˆÀU±¡(2x!v$g(Ã'¦²nòÉ®ë#2}Sã®L™›Z²/’X}ñŸûy6Ù†Ã˜ÈüNS7–[^ö<"+pÛèG$G$’^™ `>+È)£2q^ÆŞÔ£r,,™Öšˆt'êæWPÙ,0Ú³¦Íq«±àPlL´»Q™¯åV†—YÀ~"IÉ¤SBxÉ¥é™ÁX%ÈµÈ<ëdœ2ç(RPjMmëÍc2 ›õ*÷{?Küƒ¥Ò‚ßÛn8Ü§q6ÀË©gGêV„Ï–×+æ{SSZrU6Pfêÿû´`˜ XHViìKh€çz­=é]QñQG½©èêu”¥m½ò9ji<É¥<’%öX›¢°jP„-”ÂR—Æfe¿VzL$0ñÍ˜T`CYz!i};’ˆÖ¦?­&7åJTüùù–İ…sö«X÷lÍù»Ëerÿ–æ!¾Ë»”Ì©Æ^û¶¬ïû[——„‚Üm¸äq¹¡ôQ¦Ö—Òëzš‚€ãcè2È€0$*T=hF.LG$ĞôÜ¸ÀTP!T‰£È\T„Yy›Š˜¬F($´5¦è–jö§X¬Õ¶Ş­¤˜ÀaººmŞêŸıúçÃİÖ&±û³Q±Ó V¯ı¶ÓMÛÄ w—Qº®·Ö¢pI!ÌOÉÁ'Ól4‡áhî‘ØÕMÉBeiëÌ°á¨ğ:¡qøğ´ĞÀ³„¢ah¼ô—Ç{ëv¿FwX_½¾3›'TW…#‡ĞïÖÌõUß×]¦ûâ¯}µåšU¦©Ÿ¶r;R\¨<‘«^‹r©âP"İ =h–¢q¶Ûq¹š± G +Q¸øßãB›I†€TC°lK ñà4(4Dº¤DbµV“mcªŠ]l~†ç¼ÇÅ)WY¤§•¥£›©\<·Z¸ÓwPrRûlÑ»S®ä£.¾Uİ…E÷L~r"Î ‚ã‚HÀ-.ÆK†[;”è,Ú÷%ÿ¶Üm¹…$FtÇk*›‘¨>1„ó©¾"/9H0y1ÕGğåp«–ÿû´`› CBSÓ,bè„gªe,]ÜùSL1‹©À+dô­vV¡|NáY)…è¸íÑú$ˆÇ5Å”±jÅÆw?“ae¯S uóYmçWâÈ£”Ä‹¥ŞvˆgŞµø›Š”ÍêŞ·ìæ3lÿ(&¬RÅâåG³U'[í›ô©ÿ‚½uUL¯H…¸îsŒnª%\'‚€ÀÆ–m9aÄol16UÒ<?dêÁ…ÄgP>;
ˆ$’I®Ö¨lvšÇ1ıä…Ó&¦½R‰Ó‹š,«
Ğ.XşºdÚ%¹8ÛîR#†ı"íI( yûÒyÙ_ÆTÏ@7#rIl²\Ä2À„àK &ÑWUBf±pæéÇP—Ä tp4\©†İi´ÇŠ#Û/#¶ß¹^®l#t-ëSs’Eûq†y¢@Ä‹»'5r¥¯Í›f¦§¦ÜbÚÏGÓ!Ï‹c¡@Üµ®ñlÖsOœx§êÔ¯f¢…;)–ßÑ¯ş8sŸ¦¿ÿÛm$”Õ±i%Í÷Y¥I[Ù|‚>_©(¦dLb…Œœ> ñ?Œ'.®ãş¿/ØÜIl•cô6~_<51[k8ÊÔ¦¡ÍPó–şåÚ}›[í½yÃ¥2êMš·F¢]Z[¡-–×¢ñâ0‡F®0~ıC@L†¨CjØäºË-Î Ì`C |ñ{§™4ÿòHû=ÇJ‰GJ'dVªã*Nj‰©ï[ˆN ¾S©–
°òg¤2”Ó‰J#%B(`9¬ÿû´`« \BUiìzê€
úaŒ]’•+S¬½-¢*#©õ†1´ MRÃ+ PìH#Ä-Œ–a >;aâ'H„@a–Š*‘ÚœŠ%î·_VQAøªÖ±&á¸œšN¾ Æôà5’`S‹T¦œVô0	MÄ¤’7&jÁ_ %@'–í[?&¿•5ö®v¹`(–‡ô^@9«K!1'VƒQÊeg•Â¢(ÄØİ·U	òõÔ­ÎŒÕÆDCÛvZQÛ•…,Vè&¡~¹ÚbÒ'³V}İÆ³v~Pß“»<ÒÇZ}û4í³u˜ílşd“U(X•ô›j!¨„¦Úm·$Lº‰&‚`¸Í7±×2~Ôóˆ~ò#båÍ´ñ9)Éš’öeÜ$FÓ,!² "^içDıU6Âf®d ¸´ğëIô©Ãex—®M]»Îdv“¿[¨—z.·ÏS"¡Ä÷µGUö§ÎëÀæÖŞ	ªº¾ıêŸ¿ùæwşõªªªUtR*+u_‘¸Õ<O˜RR¢³¢S¦Ç1BäÑıë3X{3Bİ^jÿ ¦¼5{’-ÀKmYíä®qbŞ–¸0$UÕºûcƒZĞ{ÖØµ7ˆ%¶_Å„ÜÙ‰hæ÷[šĞ)¨¯¡ÂÄ¿½¾+›b0 "R‚îåX,Ã;dMEÜê!«»M¶Ûy„B@ú;‡~Äg©Vë+z…WÊ‚zK‡Ò( ÃÁš*¬Ÿ­‹aQµøéãå¦#s¬!ÀñXÿû´`£€"CTk	bê†©e]aMG±-¢ )õ†1t³R@aÈ±H9²ÈÒÀi{‘ƒî4»o190ƒ++ªÊÅ´D­d1‡4µùk¦’9iÔ1by·°®”‹"£×<: U¬Tâ!-7#nFÛ“24-yhÚL¶ÕÙn)>1(	…Uê¨ädˆŒp‘ÂÚè=¤¦šå‰ÃƒÇdÄ¡’Â¢éæ[Øìş¡ìıõqå\Z„Vu2wnŸ¾]1ã†èßoV•J³ãXtßËyj¹xòöiİ­õ1üQFíÌŠ‚êI5î™lñ½ÉB‰Ë€W~­)MåXŞ cœD™8«AË]Š_Jµ[.˜2´¾nIB–QÖŒêh{ğZ:Éş—oQÇ9…”q4¿esRÌ×ó„F¶èux¿¦ˆ±ëÇgÓõÌI[`Aªî=ÁÌxòSğág½‰ˆš®5\vÚ]ı-ıä¼âm<ˆĞƒ¶!‰kì^DP]QEÆÛmÉ$r}0€W|	YùÆ)±‹#qÛÄRU(Y±	(uFĞ¡¯@¨Õô±´qAR+×v_>Br«,Í‹aãè2 ûĞPÕ;aõ1’OÓ×mw—iíO—oE¼ÌW÷§­Ñe«¿­?.·×ÇrÕ.>ƒ’h[•S”'Šv„cvY’Ë$Æéè_ExÍ4Sìfå‰r
%BTv|Ù(9etÃ›î@Âó!)ldf—¤|å^(#°Q@‘=z	:^ğæ&•š¤=*Fÿû´`©€5AÓQìzèè*aŒ]éO§±‹¢"¢)õ†1t¤}ûÚ/B*6bµJ‚w®×V@ß+Çà}ˆÑ#gWÊJ¾ü»JíjÓèi.å5Ê{©	ÀDN‹{‘ĞŞáW(”İ’7$²I<‚8 ™õ®ïLÆièJ˜Ş>R'LkaøíÚ+“ò¶e[j_0k¬|éÑÉl’ràdP!•ù˜ÜZò™†&Ã³THiÈ¶Ÿ*±SóæVäl5½+Ó^Sfb;¤ílëR}õõ”b·¿¿HiŞÛLïJ:ÊƒhIÙ²ËÙ^qz­ %§$IlOµ€ayÉNwìJy„…éRIkTà0,~¤ø‰)S-²³ÅlÌçr™ßÅ‚õµóu&Íi‹»ˆò+:CNOc¿´ä¥Ø¯&áYÊÿÏ6aÿiõZÏólß>ş¾`ãZ¯‰x–‹˜Ş–	½ç›…>Ú¿ıTçTc­¤Uj•”»¸ &,
Ò¸÷V2O½ÃFÎc‰TNÆ!) ır,MIß1×_‰k®}>Wğİzâ¹P¤ q++?íÿZƒJ¶‚a ôµ‡”˜	ª<ÙéÆŞ¼ÿ8Ü<„sæ=ãÎæV+ehßgæWiÓÏ³«Âln½ïÒD"*i¦[¿ş¾™ŞÀ§‚°l’óI+à%#Æ_G—Sø¨ÅUjóàÓN'Ùç—MÕG9J¢eŠÚŞ†Ìja2Æ¤# ıJ±²£Pçé†J¬åuÿû´`¬ 4BÓëzêƒˆJi=Œ]’S'½ë±ÿ¡éõ„¥tVFwÌJêAÌ:6LäÊ¬yÑ÷èÁºÛîYU•Ó×­túÌMÃöÅ"ÏXQØbFÃ~2Z†ãVÓ=]Œwï YÌêeÉ$²Ém²ß°ò
¤‹®Í`§Ùá³;áäÚFtå`è…¤`X¨S6y’ì
¸œ`”»×*dAw8©b­Í‘ª­‘#VTPJÚ(+„b&¥2M5µu'	Û ŠÈ—G/şİí)KÁZÙb’„#E=ÖõF"Ì¬D‚§#¯Ş’æT%&Ü¹#’M@Á¹Ñ]³´'íõ‰Z„E3ªñ.åè’âˆYJ4˜í¬l¬X´
7f ü«b­úÀÄˆeBÛ‹yÊb2D¸ F“ÙMï]RI´<„¾6ØÿØ j(—ëÂhˆàÎ.qBcgƒ¹ÌÒÌÊOFÌTdüÖŸY ±k‡Ö6?r½ÕØYµ1ïc»ş½ËAMsÿøKRId²ÛmŸÙèiôç:sUcpX	"«b
Ibñ2Q©`oçñCÉ)û—X,5e&^Æ.ÑÅ=t©PØî`qR¼Üå²(Ï¥-J¸‚¤IÁzÔ¢bù‰²#Üj#ñˆ6S½Œãâµìñ¬ÕH¸}<{Dµ·ş¯4Úİş]Ü ig#.ŒZ»PY¤õ2cm¦Óm¶ŞÀ¹2GS1¬n8:„Lv=Ül”ı#±0‘Çq¡æĞ"vç(¶ª7Gë&y*f¡ÿû´`­ ‡EÒk/KjHŠma],ùG§±+ª(é†1u4‘IÜ¸««k™’„`U˜ $TòØ:4¡=’ÌìSN¡¤ecã#Òó·'mÉ½K6l­ğüoCîQ7ÊÅÙın¯×ËÚO*œkûÓq¶Şhƒ#ÔåP2¦ë2ıRÄçÊğËgÓ¸ÎÀá½–.[Å`şÊ´ÉkÌ1¾eNy§¥ÂPpH:)¶­9ò¼ÂÃn/iuKnu§Ì^-Yd-‰éq¦={EŞ›ãë^ÛUv5v…«!8#,B¼A½°\ï÷vˆ^ÿ÷ŸuœçôH¤ãi§#q¼è‚0‰8B–²çö
eògò4œy8¸öx':Ù£#TDu‘*ÓÒUa3é¬ÚtÔ}¬zC‘[£šEƒ¯œEç®RÆ4@Ì´¬é¸,óM¸ì½šA¶g"gW#Zv'b;¶„ıwÙİÊQ¬
Ÿ"hàPå†y×7š- ¦&$¤ãM§#<Ú¹ğ\³”ä]©ß3Gzt«©"Ï¼È4ÎGÉÄ†ãV^û7÷[Dd¨¾â±¤EˆcªÁDÄ¡³#ÚAñ6»(	†jÄ!°àµ´L7ne_inner_html, $class );

			$all_args['all_posts'] = 1;
			$class = '';
		}

		if ( empty( $class ) && ( $this->is_base_request() || isset( $_REQUEST['all_posts'] ) ) ) {
			$class = 'current';
		}

		$all_inner_html = sprintf(
			_nx(
				'All <span class="count">(%s)</span>',
				'All <span class="count">(%s)</span>',
				$total_posts,
				'posts'
			),
			number_format_i18n( $total_posts )
		);

		$status_links['all'] = $this->get_edit_link( $all_args, $all_inner_html, $class );
		if ( $mine ) {
			$status_links['mine'] = $mine;
		}

		foreach ( get_post_stati(array('show_in_admin_status_list' => true), 'objects') as $status ) {
			$class = '';

			$status_name = $status->name;

			if ( ! in_array( $status_name, $avail_post_stati ) || empty( $num_posts->$status_name ) ) {
				continue;
			}

			if ( isset($_REQUEST['post_status']) && $status_name === $_REQUEST['post_status'] ) {
				$class = 'current';
			}

			$status_args = array(
				'post_status' => $status_name,
				'post_type' => $post_type,
			);

			$status_label = sprintf(
				translate_nooped_plural( $status->label_count, $num_posts->$status_name ),
				number_format_i18n( $num_posts->$status_name )
			);

			$status_links[ $status_name ] = $this->get_edit_link( $status_args, $status_label, $class );
		}

		if ( ! empty( $this->sticky_posts_count ) ) {
			$class = ! empty( $_REQUEST['show_sticky'] ) ? 'current' : '';

			$sticky_args = array(
				'post_type'	=> $post_type,
				'show_sticky' => 1
			);

			$sticky_inner_html = sprintf(
				_nx(
					'Sticky <span class="count">(%s)</span>',
					'Sticky <span class="count">(%s)</span>',
					$this->sticky_posts_count,
					'posts'
				),
				number_format_i18n( $this->sticky_posts_count )
			);

			$sticky_link = array(
				'sticky' => $this->get_edit_link( $sticky_args, $sticky_inner_html, $class )
			);

			// Sticky comes after Publish, or if not listed, after All.
			$split = 1 + array_search( ( isset( $status_links['publish'] ) ? 'publish' : 'all' ), array_keys( $status_links ) );
			$status_links = array_merge( array_slice( $status_links, 0, $split ), $sticky_link, array_slice( $status_links, $split ) );
		}

		return $status_links;
	}

	/**
	 *
	 * @return array
	 */
	protected function get_bulk_actions() {
		$actions = array();
		$post_type_obj = get_post_type_object( $this->screen->post_type );

		if ( current_user_can( $post_type_obj->cap->edit_posts ) ) {
			if ( $this->is_trash ) {
				$actions['untrash'] = __( 'Restore' );
			} else {
				$actions['edit'] = __( 'Edit' );
			}
		}

		if ( current_user_can( $post_type_obj->cap->delete_posts ) ) {
			if ( $this->is_trash || ! EMPTY_TRASH_DAYS ) {
				$actions['delete'] = __( 'Delete Permanently' );
			} else {
				$actions['trash'] = __( 'Move to Trash' );
			}
		}

		return $actions;
	}

	/**
	 * @global int $cat
	 * @param string $which
	 */
	protected function extra_tablenav( $which ) {
		global $cat;
?>
		<div class="alignleft actions">
<?php
		if ( 'top' === $which && !is_singular() ) {

			$this->months_dropdown( $this->screen->post_type );

			if ( is_object_in_taxonomy( $this->screen->post_type, 'category' ) ) {
				$dropdown_options = array(
					'show_option_all' => __( 'All categories' ),
					'hide_empty' => 0,
					'hierarchical' => 1,
					'show_count' => 0,
					'orderby' => 'name',
					'selected' => $cat
				);

				echo '<label class="screen-reader-text" for="cat">' . __( 'Filter by category' ) . '</label>';
				wp_dropdown_categories( $dropdown_options );
			}

			/**
			 * Fires before the Filter button on the Posts and Pages list tables.
			 *
			 * The Filter button allows sorting by date and/or category on the
			 * Posts list table, and sorting by date on the Pages list table.
			 *
			 * @since 2.1.0
			 * @since 4.4.0 The `$post_type` parameter was added.
			 *
			 * @param string $post_type The post type slug.
			 */
			do_action( 'restrict_manage_posts', $this->screen->post_type );

			submit_button( __( 'Filter' ), 'button', 'filter_action', false, array( 'id' => 'post-query-submit' ) );
		}

		if ( $this->is_trash && current_user_can( get_post_type_object( $this->screen->post_type )->cap->edit_others_posts ) ) {
			submit_button( __( 'Empty Trash' ), 'apply', 'delete_all', false );
		}
?>
		</div>
<?php
		/**
		 * Fires immediately following the closing "actions" div in the tablenav for the posts
		 * list table.
		 *
		 * @since 4.4.0
		 *
		 * @param string $which The location of the extra table nav markup: 'top' or 'bottom'.
		 */
		do_action( 'manage_posts_extra_tablenav', $which );
	}

	/**
	 *
	 * @return string
	 */
	public function current_action() {
		if ( isset( $_REQUEST['delete_all'] ) || isset( $_REQUEST['delete_all2'] ) )
			return 'delete_all';

		return parent::current_action();
	}

	/**
	 *
	 * @return array
	 */
	protected function get_table_classes() {
		return array( 'widefat', 'fixed', 'striped', is_post_type_hierarchical( $this->screen->post_type ) ? 'pages' : 'posts' );
	}

	/**
	 *
	 * @return array
	 */
	public function get_columns() {
		$post_type = $this->screen->post_type;

		$posts_columns = array();

		$posts_columns['cb'] = '<input type="checkbox" />';

		/* translators: manage posts column name */
		$posts_columns['title'] = _x( 'Title', 'column name' );

		if ( post_type_supports( $post_type, 'author' ) ) {
			$posts_columns['author'] = __( 'Author' );
		}

		$taxonomies = get_object_taxonomies( $post_type, 'objects' );
		$taxonomies = wp_filter_object_list( $taxonomies, array( 'show_admin_column' => true ), 'and', 'name' );

		/**
		 * Filter the taxonomy columns in the Posts list table.
		 *
		 * The dynamic portion of the hook name, `$post_type`, refers to the post
		 * type slug.
		 *
		 * @since 3.5.0
		 *
		 * @param array  $taxonomies Array of taxonomies to show columns for.
		 * @param string $post_type  The post type.
		 */
		$taxonomies = apply_filters( "manage_taxonomies_for_{$post_type}_columns", $taxonomies, $post_type );
		$taxonomies = array_filter( $taxonomies, 'taxonomy_exists' );

		foreach ( $taxonomies as $taxonomy ) {
			if ( 'category' === $taxonomy )
				$column_key = 'categories';
			elseif ( 'post_tag' === $taxonomy )
				$column_key = 'tags';
			else
				$column_key = 'taxonomy-' . $taxonomy;

			$posts_columns[ $column_key ] = get_taxonomy( $taxonomy )->labels->name;
		}

		$post_status = !empty( $_REQUEST['post_status'] ) ? $_REQUEST['post_status'] : 'all';
		if ( post_type_supports( $post_type, 'comments' ) && !in_array( $post_status, array( 'pending', 'draft', 'future' ) ) )
			$posts_columns['comments'] = '<span class="vers comment-grey-bubble" title="' . esc_attr__( 'Comments' ) . '"><span class="screen-reader-text">' . __( 'Comments' ) . '</span></span>';

		$posts_columns['date'] = __( 'Date' );

		if ( 'page' === $post_type ) {

			/**
			 * Filter the columns displayed in the Pages list table.
			 *
			 * @since 2.5.0
			 *
			 * @param array $post_columns An array of column names.
			 */
			$posts_columns = apply_filters( 'manage_pages_columns', $posts_columns );
		} else {

			/**
			 * Filter the columns displayed in the Posts list table.
			 *
			 * @since 1.5.0
			 *
			 * @param array  $posts_columns An array of column names.
			 * @param string $post_type     The post type slug.
			 */
			$posts_columns = apply_filters( 'manage_posts_columns', $posts_columns, $post_type );
		}

		/**
		 * Filter the columns displayed in the Posts list table for a specific post type.
		 *
		 * The dynamic portion of the hook name, `$post_type`, refers to the post type slug.
		 *
		 * @since 3.0.0
		 *
		 * @param array $post_columns An array of column names.
		 */
		return apply_filters( "manage_{$post_type}_posts_columns", $posts_columns );
	}

	/**
	 *
	 * @return array
	 */
	protected function get_sortable_columns() {
		return array(
			'title'    => 'title',
			'parent'   => 'parent',
			'comments' => 'comment_count',
			'date'     => array( 'date', true )
		);
	}

	/**
	 * @global WP_Query $wp_query
	 * @global int $per_page
	 * @param array $posts
	 * @param int $level
	 */
	public function display_rows( $posts = array(), $level = 0 ) {
		global $wp_query, $per_page;

		if ( empty( $posts ) )
			$posts = $wp_query->posts;

		add_filter( 'the_title', 'esc_html' );

		if ( $this->hierarchical_display ) {
			$this->_display_rows_hierarchical( $posts, $this->get_pagenum(), $per_page );
		} else {
			$this->_display_rows( $posts, $level );
		}
	}

	/**
	 * @param array $posts
	 * @param int $level
	 */
	private function _display_rows( $posts, $level = 0 ) {
		// Create array of post IDs.
		$post_ids = array();

		foreach ( $posts as $a_post )
			$post_ids[] = $a_post->ID;

		$this->comment_pending_count = get_pending_comments_num( $post_ids );

		foreach ( $posts as $post )
			$this->single_row( $post, $level );
	}

	/**
	 * @global wpdb    $wpdb
	 * @global WP_Post $post
	 * @param array $pages
	 * @param int $pagenum
	 * @param int $per_page
	 */
	private function _display_rows_hierarchical( $pages, $pagenum = 1, $per_page = 20 ) {
		global $wpdb;

		$level = 0;

		if ( ! $pages ) {
			$pages = get_pages( array( 'sort_column' => 'menu_order' ) );

			if ( ! $pages )
				return;
		}

		/*
		 * Arrange pages into two parts: top level pages and children_pages
		 * children_pages is two dimensional array, eg.
		 * children_pages[10][] contains all sub-pages whose parent is 10.
		 * It only takes O( N ) to arrange this and it takes O( 1 ) for subsequent lookup operations
		 * If searching, ignore hierarchy and treat everything as top level
		 */
		if ( empty( $_REQUEST['s'] ) ) {

			$top_level_pages = array();
			$children_pages = array();

			foreach ( $pages as $page ) {

				// Catch and repair bad pages.
				if ( $page->post_parent == $page->ID ) {
					$page->post_parent = 0;
					$wpdb->update( $wpdb->posts, array( 'post_parent' => 0 ), array( 'ID' => $page->ID ) );
					clean_post_cache( $page );
				}

				if ( 0 == $page->post_parent )
					$top_level_pages[] = $page;
				else
					$children_pages[ $page->post_parent ][] = $page;
			}

			$pages = &$top_level_pages;
		}

		$count = 0;
		$start = ( $pagenum - 1 ) * $per_page;
		$end = $start + $per_page;
		$to_display = array();

		foreach ( $pages as $page ) {
			if ( $count >= $end )
				break;

			if ( $count >= $start ) {
				$to_display[$page->ID] = $level;
			}

			$count++;

			if ( isset( $children_pages ) )
				$this->_page_rows( $children_pages, $count, $page->ID, $level + 1, $pagenum, $per_page, $to_display );
		}

		// If it is the last pagenum and there are orphaned pages, display them with paging as well.
		if ( isset( $children_pages ) && $count < $end ){
			foreach ( $children_pages as $orphans ){
				foreach ( $orphans as $op ) {
					if ( $count >= $end )
						break;

					if ( $count >= $start ) {
						$to_display[$op->ID] = 0;
					}

					$count++;
				}
			}
		}

		$ids = array_keys( $to_display );
		_prime_post_caches( $ids );

		if ( ! isset( $GLOBALS['post'] ) ) {
			$GLOBALS['post'] = reset( $ids );
		}

		foreach ( $to_display as $page_id => $level ) {
			echo "\t";
			$this->single_row( $page_id, $level );
		}
	}

	/**
	 * Given a top level page ID, display the nested hierarchy of sub-pages
	 * together with paging support
	 *
	 * @since 3.1.0 (Standalone function exists since 2.6.0)
	 * @since 4.2.0 Added the `$to_display` parameter.
	 *
	 * @param array $children_pages
	 * @param int $count
	 * @param int $parent
	 * @param int $level
	 * @param int $pagenum
	 * @param int $per_page
	 * @param array $to_display List of pages to be displayed. Passed by reference.
	 */
	private function _page_rows( &$children_pages, &$count, $parent, $level, $pagenum, $per_page, &$to_display ) {
		if ( ! isset( $children_pages[$parent] ) )
			return;

		$start = ( $pagenum - 1 ) * $per_page;
		$end = $start + $per_page;

		foreach ( $children_pages[$parent] as $page ) {
			if ( $count >= $end )
				break;

			// If the page starts in a subtree, print the parents.
			if ( $count == $start && $page->post_parent > 0 ) {
				$my_parents = array();
				$my_parent = $page->post_parent;
				while ( $my_parent ) {
					// Get the ID from the list or the attribute if my_parent is an object
					$parent_id = $my_parent;
					if ( is_object( $my_parent ) ) {
						$parent_id = $my_parent->ID;
					}

					$my_parent = get_post( $parent_id );
					$my_parents[] = $my_parent;
					if ( !$my_parent->post_parent )
						break;
					$my_parent = $my_parent->post_parent;
				}
				$num_parents = count( $my_parents );
				while ( $my_parent = array_pop( $my_parents ) ) {
					$to_display[$my_parent->ID] = $level - $num_parents;
					$num_parents--;
				}
			}

			if ( $count >= $start ) {
				$to_display[$page->ID] = $level